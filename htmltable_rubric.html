<div class="container">
    <h2>Rubric for Essay qtype</h2>
    <p>This rubric is a prototype for the Essay qtype. a custom solution.</p>
    <table class="table table-dark table-striped">
        <thead>
            <tr>
                <th></th>
                <th>Bad</th>
                <th>Good</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Criteria 1</td>
                <td>
                    <button type="button" class="btn btn-primary btn-block" id="bad1">0</button>
                </td>
                <td>
                    <button type="button" class="btn btn-primary btn-block" id="good1">1</button>
                </td>
            </tr>
            <tr>
                <td>Criteria 2</td>
                <td>
                    <button type="button" class="btn btn-primary btn-block" id="bad2">0</button>
                </td>
                <td>
                    <button type="button" class="btn btn-primary btn-block" id="good2">1</button>
                </td>
            </tr>
            <tr>
                <td>Criteria 3</td>
                <td>
                    <button type="button" class="btn btn-primary btn-block" id="bad3">0</button>
                </td>
                <td>
                    <button type="button" class="btn btn-primary btn-block" id="good3">1</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<script>
    $(document).ready(function(){

    let totalScore = 0;

    function Clicker(x, y){

        $(x).click(function(){
            $(x).toggleClass("btn btn-success");
            $(y).removeClass();
            $(y).addClass("btn btn-primary btn-block");
            $(x).attr("disabled", true);
            $(y).removeAttr("disabled");

            //Adjust scoring
                if (totalScore > 0) {
                    totalScore--;
                };

        });

        $(y).click(function(){
            $(y).toggleClass("btn btn-success");
            $(x).removeClass();
            $(x).addClass("btn btn-primary btn-block");
            $(y).attr("disabled", true);
            $(x).removeAttr("disabled");

            //Adjust scoring
                totalScore++;
        });

    }

    //Criteria toggle button functions.
    Clicker(bad1, good1);
    Clicker(bad2, good2);
    Clicker(bad3, good3);
    
    //Calculate the rubric values and make them appear on the page.

    $("#calc").click(function(){
        // .html() seems to replace and update the string and the totalScore well.
        $("#score").html("Total Score = " + totalScore);
    });  
    
    });
</script>
